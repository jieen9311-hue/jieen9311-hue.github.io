<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>F1 è³‡è¨Šç«™ï¼ˆå¼·åŒ–ç‰ˆï¼‰</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background:#0d0d0d; color:white; }
    header { background:#e10600; padding:16px; display:flex; justify-content:space-between; align-items:center; }
    nav a { color:white; margin:0 10px; text-decoration:none; font-weight:bold; }
    .container { max-width:1100px; margin:auto; padding:20px; }
    .card { background:#111; padding:16px; border-radius:10px; margin:12px 0; border:1px solid #333; }
    .grid { display:grid; gap:16px; }
    .grid-2 { grid-template-columns:1fr 1fr; }
    .race { border:1px solid #333; padding:12px; border-radius:8px; }
    .news-item { border-bottom:1px solid #333; padding:10px 0; }
    button { padding:6px 12px; border:none; border-radius:6px; cursor:pointer; }
    .dark-toggle { background:white; color:black; }
    .highlight { color:#e10600; font-weight:bold; }
  </style>
</head>
<body>
  <header>
    <div style="font-size:24px; font-weight:bold;">F1 è³‡è¨Šç«™</div>
    <nav>
      <a href="#home">é¦–é </a>
      <a href="#schedule">è³½ç¨‹</a>
      <a href="#drivers">è»Šæ‰‹</a>
      <a href="#teams">è»ŠéšŠ</a>
      <a href="#news">æ–°è</a>
    </nav>
    <button id="toggleDark" class="dark-toggle">æ·±è‰²/äº®è‰²</button>
  </header>

  <div class="container" id="content"></div>

  <script>
    const content = document.getElementById('content');

    const routes = {
      home: () => `
        <h1>ğŸï¸ F1 è³‡è¨Šç«™ - å®˜æ–¹é¢¨æ ¼å¼·åŒ–ç‰ˆ</h1>
        <div class="card">æ­¤ç¶²ç«™åŒ…å«ï¼šå³æ™‚æ–°èã€2025 è³½ç¨‹ã€è»Šæ‰‹ & è»ŠéšŠè³‡è¨Šã€å€’æ•¸è¨ˆæ™‚ã€æ·±è‰²æ¨¡å¼</div>
      `,

      schedule: () => `
        <h1>ğŸ“… è³½ç¨‹</h1>
        <div id="raceList" class="grid"></div>
        <script>loadSchedule()<\/script>
      `,

      drivers: () => `
        <h1>ğŸ‘¨â€ğŸï¸ è»Šæ‰‹åå–®ï¼ˆä¾ç©åˆ†æ’åºï¼‰</h1>
        <div id="driverList"></div>
        <script>loadDrivers()<\/script>
      `,

      teams: () => `
        <h1>ğŸ è»ŠéšŠç©åˆ†</h1>
        <div id="teamList"></div>
        <script>loadTeams()<\/script>
      `,

      news: () => `
        <h1>ğŸ“° F1 æ–°èï¼ˆRSS å³æ™‚æ›´æ–°ï¼‰</h1>
        <div id="newsList"></div>
        <script>loadNews()<\/script>
      `
    };

    function render() {
      const hash = location.hash.replace('#','') || 'home';
      content.innerHTML = routes[hash] ? routes[hash]() : '<h1>404</h1>';
    }

    window.addEventListener('hashchange', render);
    render();

    /* ------------------ æ·±è‰²æ¨¡å¼ ------------------ */
    document.getElementById('toggleDark').onclick = () => {
      if(document.body.style.background === 'white') {
        document.body.style.background = '#0d0d0d';
        document.body.style.color = 'white';
      } else {
        document.body.style.background = 'white';
        document.body.style.color = 'black';
      }
    }

    /* ------------------ æŠ“è³½ç¨‹ API ------------------ */
    async function loadSchedule() {
      const raceList = document.getElementById('raceList');
      const r = await fetch('https://ergast.com/api/f1/current.json');
      const j = await r.json();

      (j.MRData.RaceTable.Races || []).forEach(r => {
        raceList.innerHTML += `
          <div class="card race">
            <div class="highlight">${r.raceName}</div>
            <div>${r.Circuit.circuitName}</div>
            <div>${r.date} ${r.time || ''}</div>
            <div>${r.Circuit.Location.locality}, ${r.Circuit.Location.country}</div>
          </div>
        `;
      });
    }

    /* ------------------ è»Šæ‰‹ & è»ŠéšŠ ------------------ */
    async function loadDrivers() {
      const div = document.getElementById('driverList');
      const r = await fetch('https://ergast.com/api/f1/current/driverStandings.json');
      const j = await r.json();

      j.MRData.StandingsTable.StandingsLists[0].DriverStandings.forEach(d => {
        div.innerHTML += `
          <div class="card">
            <div class="highlight">${d.position}. ${d.Driver.givenName} ${d.Driver.familyName}</div>
            <div>${d.Constructors[0].name}</div>
            <div>ç©åˆ†ï¼š${d.points}</div>
          </div>
        `;
      });
    }

    async function loadTeams() {
      const div = document.getElementById('teamList');
      const r = await fetch('https://ergast.com/api/f1/current/constructorStandings.json');
      const j = await r.json();

      j.MRData.StandingsTable.StandingsLists[0].ConstructorStandings.forEach(t => {
        div.innerHTML += `
          <div class="card">
            <div class="highlight">${t.position}. ${t.Constructor.name}</div>
            <div>ç©åˆ†ï¼š${t.points}</div>
          </div>
        `;
      });
    }

    /* ------------------ F1 æ–°èï¼ˆRSS è½‰ JSON Proxyï¼‰ ------------------ */
    async function loadNews() {
      const div = document.getElementById('newsList');

      // ä½¿ç”¨å®˜æ–¹ RSS (éœ€ proxy æ‰èƒ½åœ¨ç€è¦½å™¨è§£æ)
      const url = `https://api.allorigins.win/get?url=${encodeURIComponent('https://www.formula1.com/content/fom-website/en/latest/all.xml')}`;

      const r = await fetch(url);
      const j = await r.json();

      const parser = new DOMParser();
      const xml = parser.parseFromString(j.contents, 'application/xml');
      const items = xml.querySelectorAll('item');

      items.forEach(i => {
        div.innerHTML += `
          <div class="news-item">
            <div class="highlight">${i.querySelector('title').textContent}</div>
            <div>${i.querySelector('pubDate').textContent}</div>
            <div>${i.querySelector('description').textContent.slice(0,120)}...</div>
          </div>
        `;
      });
    }
  </script>
</body>
</html>

   
  
